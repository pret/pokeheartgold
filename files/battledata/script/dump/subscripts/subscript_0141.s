    .include "macros/btlcmd.inc"

    .data

_000:
    CheckIgnorableAbility CHECK_HAVE, BTLSCR_SIDE_EFFECT_MON, ABILITY_INSOMNIA, _066
    CheckIgnorableAbility CHECK_HAVE, BTLSCR_SIDE_EFFECT_MON, ABILITY_VITAL_SPIRIT, _066
    CheckIgnoreWeather _021
    CompareVarToValue OPCODE_FLAG_NOT, BTLVAR_FIELD_CONDITIONS, FIELD_CONDITION_SUNNY, _021
    CheckIgnorableAbility CHECK_HAVE, BTLSCR_SIDE_EFFECT_MON, ABILITY_LEAF_GUARD, _066

_021:
    PrintAttackMessage 
    Wait 
    CheckSubstitute BTLSCR_SIDE_EFFECT_MON, _077
    CheckAbility CHECK_HAVE, BTLSCR_SIDE_EFFECT_MON, ABILITY_SOUNDPROOF, _036
    CompareVarToValue OPCODE_FLAG_SET, BTLVAR_FIELD_CONDITIONS, FIELD_CONDITION_UPROAR, _077

_036:
    CompareMonDataToValue OPCODE_NEQ, BTLSCR_SIDE_EFFECT_MON, BATTLEMON_STATUS, MON_CONDITION_NONE, _077
    CompareVarToValue OPCODE_FLAG_SET, BTLVAR_SIDE_CONDITIONS_EFFECT_MON, SIDE_CONDITION_SAFEGUARD, _083
    CompareVarToValue OPCODE_FLAG_SET, BTLVAR_MOVE_STATUS_FLAGS, MOVE_STATUS_MISSED|MOVE_STATUS_SEMI_INVULNERABLE, _077
    TryYawn _077
    PlayMoveAnimation BTLSCR_ATTACKER
    Wait 
    // {0} made {1} drowsy!
    PrintMessage msg_00000197_00545, TAG_NICKNAME_NICKNAME, BTLSCR_ATTACKER, BTLSCR_SIDE_EFFECT_MON
    Wait 
    WaitButtonABTime 30
    End 

_066:
    PrintAttackMessage 
    Wait 
    WaitButtonABTime 30
    // {0}â€™s {1} made it ineffective!
    PrintMessage msg_00000197_00734, TAG_NICKNAME_ABILITY, BTLSCR_SIDE_EFFECT_MON, BTLSCR_SIDE_EFFECT_MON
    GoTo _089

_077:
    WaitButtonABTime 30
    Call BATTLE_SUBSCRIPT_BUT_IT_FAILED
    GoTo _096

_083:
    WaitButtonABTime 30
    // {0} is protected by Safeguard!
    PrintMessage msg_00000197_00200, TAG_NICKNAME, BTLSCR_SIDE_EFFECT_MON

_089:
    Wait 
    WaitButtonABTime 30
    UpdateVar OPCODE_FLAG_ON, BTLVAR_MOVE_STATUS_FLAGS, MOVE_STATUS_NO_MORE_WORK

_096:
    End 
